<div *ngIf="visible" class="builder-overlay"></div>
<div *ngIf="visible" class="builder-container container">

    <div class="row">
        <div class="col builder-header text-center">
            {{title}}
        </div>
    </div>

    <div class="row">
        <div class="section-header col">
            {{title}} level {{item.level}}
        </div>
    </div>
    <div class="row align-items-center">
        <div class="col">
            <div class="row">
                <div class="col">upgrade cost</div>
            </div>
            <div class="row mt-2 mb-2">
                <div class="col">
                    <space-res-icon [text]="'C'" [value]="item.upgradeCrewCost"></space-res-icon>
                    <space-res-icon [text]="'E'" [value]="item.upgradeEnergyCost"></space-res-icon>
                    <space-res-icon [text]="'N'" [value]="item.upgradeTitaniumCost"></space-res-icon>
                    <space-res-icon [text]="'T'" [value]="item.upgradeTime | bTime"></space-res-icon>
                </div>
                <div class="col">
                    <space-button (click)="onUpgrade()" [name]="'Upgrade'"></space-button>
                </div>
            </div>
        </div>
    </div>

    <div class="row text-center">
        <div class="col">
            <div class="row">
                <div class="section-header col">{{subtitle}}</div>
            </div>
            <div class="row scroller p-4">
                <div [class.active]="b.item == selectedItem" title="{{b?.tooltip}}" (click)="onSelectItem(b)"
                     *ngFor="let b of buildingItems | available;" class="item-card col-12 pt-2 pb-2">
                    <div class="row align-items-center">
                        <div class="col-5">
                            <div class="item-img"></div>
                        </div>
                        <div class="col-7">
                            <div class="row">
                                <div class="col">
                                    <div class="row">
                                        <div class="col-4 info-label">Name</div>
                                        <div class="col-8 info-value">{{b.item.name}}</div>
                                    </div>
                                    <div class="row">
                                        <div class="col-4 info-label">Cost</div>
                                        <div class="col-8 text-right">
                                            <space-res-icon [text]="'E'" [value]="b.item.energyCost"></space-res-icon>
                                            <space-res-icon [text]="'N'" [value]="b.item.titaniumCost"></space-res-icon>
                                            <space-res-icon [text]="'T'"
                                                            [value]="b.item.buildingTime | bTime"></space-res-icon>
                                        </div>
                                    </div>
                                    <!--<div class="row">-->
                                    <!--<div class="col-4 info-label">Time</div>-->
                                    <!--&lt;!&ndash;<div class="col-8 info-value">{{b.item.buildingTime | bTime}}</div>&ndash;&gt;-->
                                    <!--<div class="col-8 info-value"><space-res-icon [text]="'T'" [value]="b.item.buildingTime | bTime"></space-res-icon></div>-->
                                    <!--</div>-->
                                    <!--<div class="row">-->
                                    <!--<div class="col-4 info-label">Energy</div>-->
                                    <!--<div class="col-8 info-value">{{b.item.energyCost}}</div>-->
                                    <!--</div>-->
                                    <!--<div class="row">-->
                                    <!--<div class="col-4 info-label">Titanium</div>-->
                                    <!--<div class="col-8 info-value">{{b.item.titaniumCost}}</div>-->
                                    <!--</div>-->
                                    <div class="row">
                                        <div class="col-4 info-label">Desc</div>
                                        <div class="col-8 info-value">{{b.item.description}}</div>
                                    </div>
                                    <div class="row mt-2">
                                        <div class="col-8 offset-4 text-right">
                                            <input *ngIf="!isResearch(b)" class="sizeInput p-0 text-center" type="text">
                                            <space-button [name]="'Build'"></space-button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <div class="row button-group">
        <div class="col">
            <div class="row">
                <div class="col text-right">
                    <space-button (click)="onDeconstruct()" [name]="'Deconstruct'"></space-button>
                    <space-button (click)="onBuild()" [name]="'Build'"></space-button>
                    <space-button (click)="onCancel()" [name]="'Cancel'"></space-button>
                </div>
            </div>
        </div>
    </div>
</div>

